/* =========================================================
   BRAND NAV CSS (standalone)
   Use on brand/project pages WITHOUT linking main.css
   Built by migrating the brand-page styles + variables that
   pandora.html depends on.
   ========================================================= */

/* -------------------------
   Core tokens + base reset
   ------------------------- */
:root{
  --bg: #ffffff;
  --text: rgba(10,10,10,.92);
  --accent: #e864ba;
  --home-color: #19a84b;

  --pad: 40px;

  /* Logo / top-row sizing */
  --logo-size: 80px;
}

*{ box-sizing: border-box; }
html{ scroll-behavior: smooth; }

body{
  margin: 0;
  min-height: 100vh;
  background: var(--bg);
  color: var(--text);
  font-family: "Montserrat", system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif;
  overflow-x: hidden;
}

/* Hide scrollbars (matches main site vibe) */
::-webkit-scrollbar{ width: 0px; height: 0px; }
*{ scrollbar-width: none; }

/* -------------------------
   Brand page scaffold
   ------------------------- */
body.brand-page{
  overflow-y: auto !important;
  overflow-x: hidden !important;
}

/* Header exists only to hold the top-right controls on brand pages */
body.brand-page #siteHeader{
  opacity: 1 !important;
  pointer-events: none;      /* children re-enable */
  background: transparent !important;
  mix-blend-mode: normal !important;
  isolation: auto !important;
}

/* If the main nav exists in markup, kill it on brand pages */
body.brand-page #siteHeader .nav{ display: none !important; }

/* Ensure header content can receive clicks */
body.brand-page #siteHeader,
body.brand-page #siteHeader *{
  pointer-events: auto !important;
}

/* -------------------------
   Top-right: Instagram + Hamburger + Menu
   ------------------------- */

/* Instagram (top-right, always black) */
body.brand-page a.igFixed{
  position: fixed !important;
  top: 18px !important;
  right: var(--pad) !important;
  z-index: 10050 !important;

  width: 16px !important;     /* visually “thinner” */
  height: 16px !important;

  display: flex;
  align-items: center;
  justify-content: center;

  color: #000 !important;
  text-decoration: none !important;
  opacity: 1 !important;
  visibility: visible !important;
  mix-blend-mode: normal !important;
  -webkit-text-fill-color: currentColor !important;
}
body.brand-page a.igFixed svg{
  width: 16px !important;
  height: 16px !important;
  display: block !important;
  color: currentColor !important;
  fill: currentColor !important;
  stroke: currentColor !important;
}

/* details wrapper exists just to hold open state */
body.brand-page details.brandMenuWrap{
  position: fixed !important;
  top: 0 !important;
  right: 0 !important;
  z-index: 10060 !important;
  pointer-events: auto !important;
}

/* hide default disclosure marker */
body.brand-page details.brandMenuWrap > summary{
  list-style: none;
}
body.brand-page details.brandMenuWrap > summary::-webkit-details-marker{
  display: none;
}

/* Hamburger button (left of IG) */
body.brand-page summary.brandMenuBtn{
  position: fixed !important;
  top: 18px !important;
  right: calc(var(--pad) + 34px) !important;

  width: 18px;
  height: 18px;

  display: flex !important;
  align-items: center !important;
  justify-content: center !important;

  background: transparent !important;
  border: 0 !important;
  padding: 0 !important;

  cursor: pointer !important;
  user-select: none !important;

  z-index: 10051 !important;

  color: #000 !important;
  opacity: 1 !important;
  visibility: visible !important;
  mix-blend-mode: normal !important;
  -webkit-text-fill-color: currentColor !important;
}
body.brand-page summary.brandMenuBtn svg{
  width: 18px;
  height: 18px;
  display: block !important;
  color: currentColor !important;
  fill: none !important;
  stroke: currentColor !important;
}

/* Horizontal menu that expands LEFT from the hamburger */
body.brand-page nav.brandMenu{
  position: fixed !important;
  top: 20px !important; /* +2px so it sits slightly lower than the hamburger */
  right: calc(var(--pad) + 34px + 18px + 12px) !important;

  display: none;
  flex-direction: row !important;
  align-items: center !important;
  gap: 18px !important;

  padding: 0 !important;
  margin: 0 !important;

  background: transparent !important;

  z-index: 10059 !important;
  pointer-events: auto !important;
}

/* Show when open */
body.brand-page details.brandMenuWrap[open] nav.brandMenu{
  display: flex !important;
}

/* Menu links: no underline, no layout shift */
body.brand-page nav.brandMenu a{
  font-size: 13px;
  font-weight: 400 !important;
  letter-spacing: 0.08em;
  line-height: 1;

  color: #000 !important;
  text-decoration: none !important;
  opacity: 0.92 !important;

  position: relative !important;
  display: inline-block !important;
  cursor: pointer !important;

  /* hidden state for slide-out */
  transform: translateX(10px) !important;
  opacity: 0 !important;
  transition:
    opacity 220ms ease,
    transform 260ms cubic-bezier(0.22, 1, 0.36, 1),
    color 140ms ease !important;
  will-change: transform, opacity;
}

/* invisible bold clone reserves width (prevents hover “jump”) */
body.brand-page nav.brandMenu a::after{
  content: attr(data-label);
  font-weight: 800;
  height: 0;
  overflow: hidden;
  visibility: hidden;
  display: block;
}

/* visible state when open */
body.brand-page details.brandMenuWrap[open] nav.brandMenu a{
  opacity: 1 !important;
  transform: translateX(0) !important;
}

/* cascade timing */
body.brand-page details.brandMenuWrap[open] nav.brandMenu a:nth-child(1){ transition-delay: 0ms !important; }
body.brand-page details.brandMenuWrap[open] nav.brandMenu a:nth-child(2){ transition-delay: 35ms !important; }
body.brand-page details.brandMenuWrap[open] nav.brandMenu a:nth-child(3){ transition-delay: 70ms !important; }
body.brand-page details.brandMenuWrap[open] nav.brandMenu a:nth-child(4){ transition-delay: 105ms !important; }
body.brand-page details.brandMenuWrap[open] nav.brandMenu a:nth-child(5){ transition-delay: 140ms !important; }

/* Hover = bold + black */
body.brand-page nav.brandMenu a:hover{
  font-weight: 800 !important;
  color: #000 !important;
  opacity: 1 !important;
}

/* -------------------------
   Center brand rolodex row
   ------------------------- */
body.brand-page .brandNav{
  position: fixed;
  left: 0;
  right: 0;
  top: 0 !important;

  /* remove big “band”, align to icon baseline */
  height: 0 !important;
  padding-top: 22px !important;

  z-index: 10000;

  display: flex;
  align-items: center !important;
  justify-content: center;
  gap: 10px;

  pointer-events: none;
}

body.brand-page .brandNavArrow,
body.brand-page .brandNavList{
  pointer-events: auto;
}

body.brand-page .brandNavArrow{
  border: 0;
  background: transparent;
  cursor: pointer;

  font: inherit;
  font-size: 26px;
  line-height: 1;

  color: #000;
  opacity: 0.55;

  margin: 0 !important;
  padding: 0 !important;
  transform: none !important;
  position: relative !important;
  top: 0 !important;

  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
}
body.brand-page .brandNavArrow:hover{ opacity: 1; }

body.brand-page .brandNavList{
  min-width: 220px;
  margin: 0 !important;
  padding: 0 !important;
  transform: none !important;
  position: relative !important;
  top: 0 !important;

  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* show ONLY current brand */
body.brand-page .brandNavList a{
  display: none;
  font-weight: 800;
  letter-spacing: 0.14em;
  font-size: 14px;
  line-height: 1 !important;

  color: #000;
  text-decoration: none;
}
body.brand-page .brandNavList a.is-current{ display: inline-block; }

/* -------------------------
   Top-left brand label
   ------------------------- */
body.brand-page .brand-corner{
  position: fixed;
  left: 0;
  top: 22px !important;
  z-index: 9;

  padding-left: var(--pad);

  font-weight: 800;
  font-size: 12px;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  line-height: 1 !important;

  pointer-events: none;
  mix-blend-mode: normal !important;
}

/* -------------------------
   Main layout (left list, feed, right experts)
   ------------------------- */
body.brand-page .brand-layout{
  width: min(1200px, calc(100% - (var(--pad) * 2)));
  margin: 0 auto;

  /* reduced top spacing */
  padding: calc(var(--logo-size) + 5px) 0 160px;

  display: grid;
  grid-template-columns: 1fr;
}

/* LEFT LIST (pinned hard left) */
body.brand-page .brand-left{
  position: fixed;
  top: calc(var(--logo-size) + 60px);
  left: 0;

  height: calc(100vh - (var(--logo-size) + 120px));
  width: 200px;

  padding-left: var(--pad);
  z-index: 5;
}

body.brand-page .brand-left-nav{
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

body.brand-page .brand-left-link{
  color: var(--text);
  text-decoration: none;
  font-size: 13px;
  letter-spacing: 0.02em;
  opacity: 0.85;
}
body.brand-page .brand-left-link:hover{ opacity: 1; }

body.brand-page .brand-left-link.is-active{
  color: var(--home-color);
  font-weight: 800;
  opacity: 1;
}

/* RIGHT PEOPLE COLUMN (experts) */
body.brand-page .brand-people{
  position: fixed;
  top: calc(var(--logo-size) + 0px);
  right: 0;

  height: calc(100vh - (var(--logo-size) + 120px));
  width: 220px;

  padding-right: var(--pad);
  z-index: 5;

  display: flex;
  flex-direction: column;
  justify-content: center;
}

/* Base experts list (so it works without main.css) */
.experts-list{
  list-style: none;
  padding: 0;
  margin: 0;
}
.expert-name{ font-weight: 800; }
.expert-meta{
  display: block;
  margin-top: 6px;
  font-size: 10px;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  opacity: 0.7;
}
.expert-meta a{
  color: inherit;
  text-decoration: none;
}

/* Constrained brand-page experts styling */
body.brand-page .brand-people-list{
  list-style: none;
  margin: 0;
  padding: 0;

  display: flex;
  flex-direction: column;
  gap: 14px;

  align-items: flex-start;
  text-align: left;

  /* allow long lists (30+ names) */
  max-height: calc(100vh - 140px);
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  padding-right: 6px;

  transition: opacity 140ms ease;
  opacity: 1;
}
body.brand-page .brand-people-list.is-fading{ opacity: 0; }

body.brand-page .brand-people-list .expert{
  display: block;
  white-space: normal;
}
body.brand-page .brand-people-list .expert-name{
  font-weight: 800;
  font-size: 14px;
  line-height: 1.1;
}
body.brand-page .brand-people-list .expert-meta{
  font-size: 10px;
}

/* FEED / GRID (true centering: equal gutters for left + right) */
body.brand-page .brand-right{
  width: min(1200px, calc(100% - (var(--pad) * 2)));
  margin: 0 auto;

  padding-left: 220px;
  padding-right: 220px;
  box-sizing: border-box;
}

/* Correct anchor snapping */
body.brand-page .brand-anchor{
  scroll-margin-top: calc(var(--logo-size) + 80px);
}

/* Section titles */
body.brand-page .brand-section-title{
  font-size: 12px;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  margin: 6px 0 14px; /* lifted closer to navbar */
  opacity: 0.7;
}

/* Grid */
body.brand-page .brand-grid{
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 14px;
  margin: 0 0 32px 0;
}

/* Tiles */
body.brand-page .brand-tile{
  background: #000;
  border-radius: 12px;
  overflow: hidden;
}

/* Ratios */
body.brand-page .brand-tile.r-9-16{ aspect-ratio: 9 / 16; }
body.brand-page .brand-tile.r-16-9{ aspect-ratio: 16 / 9; }

/* -------------------------
   Responsive
   ------------------------- */
@media (max-width: 980px){
  body.brand-page .brand-grid{
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (max-width: 1100px){
  body.brand-page .brand-people{
    position: relative;
    top: auto;
    right: auto;
    width: 100%;
    height: auto;
    padding-right: 0;
    margin-top: 22px;
  }

  

  body.brand-page .brand-right{
    padding-left: 0;
    padding-right: 0;
  }
}

@media (max-width: 640px){
  body.brand-page .brand-left{
    position: relative;
    top: auto;
    left: auto;
    width: 100%;
    height: auto;
    padding-left: 0;
    margin-bottom: 24px;
    
  }

  body.brand-page .brand-left-nav{
    flex-direction: row;
    justify-content: flex-start;
    gap: 16px;
    overflow-x: auto;
  }

  body.brand-page .brand-grid{
    grid-template-columns: 1fr;
  }
  
}

/* -------------------------
   Lightbox carousel (if brand-nav.js uses it)
   ------------------------- */
body.brand-page.mmLightbox-open{ overflow: hidden; }

/* dim + blur the page behind */
body.brand-page.mmLightbox-open main,
body.brand-page.mmLightbox-open header,
body.brand-page.mmLightbox-open .brand-corner,
body.brand-page.mmLightbox-open .brand-left,
body.brand-page.mmLightbox-open .brand-people{
  filter: blur(6px);
  opacity: 0.25;
  transition: opacity 140ms ease, filter 180ms ease;
}

.mmLightbox{
  position: fixed;
  inset: 0;
  z-index: 999999;
  display: none;
}
.mmLightbox.is-open{ display: block; }

.mmLightbox-backdrop{
  position: absolute;
  inset: 0;
  background: rgba(255,255,255,0.02);
}

.mmLightbox-ui{
  position: absolute;
  inset: 0;
  display: grid;
  grid-template-columns: 70px 1fr 70px;
  align-items: center;
  padding: 64px 48px;
  pointer-events: none;
}

.mmLightbox-stage{
  pointer-events: auto;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Frame: vertical 9:16 sizing (height-driven) */
.mmLightbox-frame{
  aspect-ratio: 9 / 16 !important;

  height: min(72vh, 820px) !important;
  width: auto !important;

  max-width: 86vw;
  max-height: 72vh;

  background: #000;
  border-radius: 12px;
  overflow: hidden;

  display: flex;
  align-items: center;
  justify-content: center;
}

/* keep content contained */
.mmLightbox-frame img,
.mmLightbox-frame video,
.mmLightbox-frame > div{
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.mmLightbox-nav{
  pointer-events: auto;
  border: 0;
  background: transparent;
  font-family: inherit;
  font-size: 42px;
  line-height: 1;
  cursor: pointer;
  opacity: 0.55;
  user-select: none;
}
.mmLightbox-nav:hover{ opacity: 0.95; }

.mmLightbox-prev{ justify-self: start; }
.mmLightbox-next{ justify-self: end; }

.mmLightbox-close{
  position: absolute;
  top: 22px;
  right: 26px;
  pointer-events: auto;
  border: 0;
  background: transparent;
  font-size: 30px;
  line-height: 1;
  cursor: pointer;
  opacity: 0.55;
}
.mmLightbox-close:hover{ opacity: 0.95; }

@media (max-width: 640px){
  .mmLightbox-ui{ padding: 48px 20px; }
}

body.brand-page .brand-anchor{
  height: 1px;
}



/* =========================================================
   LUX RESPONSIVE + DRAWERS OVERRIDES (FINAL)
   Paste-ready full replaceable file includes this at bottom.
   ========================================================= */

/* ---------- Safety: anchors observable for scrollspy ---------- */
body.brand-page .brand-anchor{ height: 1px; }

/* ---------- Experts tab: NEVER on desktop ---------- */
body.brand-page .expertsTab{ display: none; }

/* ---------- Tablet: left list becomes horizontal so nothing gets cut off ---------- */
@media (max-width: 1100px){
  body.brand-page .brand-left{
    position: relative !important;
    top: auto !important;
    left: auto !important;
    width: 100% !important;
    height: auto !important;
    padding-left: 0 !important;
    margin: 0 0 14px 0 !important;
  }

  body.brand-page .brand-left-nav{
    height: auto !important;
    display: flex !important;
    flex-direction: row !important;
    justify-content: flex-start !important;
    gap: 18px !important;
    overflow-x: auto !important;
    overflow-y: hidden !important;
    white-space: nowrap !important;
    -webkit-overflow-scrolling: touch;
  }

  body.brand-page .brand-left-link{
    white-space: nowrap !important;
  }

  /* Keep 3-up grid on iPad */
  body.brand-page .brand-grid{
    grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
    gap: 10px !important;
  }
}

/* ---------- Tablet + Phone (<=900): single flow + drawers ---------- */
@media (max-width: 1100px){
  :root{
    --pad: 22px;
    --logo-size: 56px;
  }

  /* Reflow layout to avoid overlap */
  body.brand-page .brand-layout{
    display: block !important;
    width: min(980px, calc(100% - (var(--pad) * 2))) !important;
    margin: 0 auto !important;
    padding: calc(var(--logo-size) + 44px) 0 96px !important;
  }

  body.brand-page .brand-right{
    width: 100% !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

  /* Text-only horizontal collab list (no pill background) */
  body.brand-page .brand-left-link{
    padding: 0 !important;
    border-radius: 0 !important;
    background: transparent !important;
    font-size: 12px !important;
    opacity: 0.72 !important;
    text-decoration: none !important;
  }
  body.brand-page .brand-left-link.is-active{
    opacity: 1 !important;
    font-weight: 800 !important;
  }

  /* Experts becomes right drawer (tab always visible) */
  body.brand-page .brand-people{
    position: fixed !important;
    top: 0 !important;
    right: 0 !important;
    height: 100vh !important;

    width: min(420px, 34vw) !important;     /* iPad: right third */
    padding: 86px var(--pad) 28px !important;

    background: rgba(255,255,255,0.88) !important;
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);

    border-left: 1px solid rgba(0,0,0,0.08);
    z-index: 10020 !important;

    transform: translateX(calc(100% - 1px)) !important;
    transition: transform 260ms cubic-bezier(0.22, 1, 0.36, 1) !important;
  }

  body.brand-page .brand-people.is-open{
    transform: translateX(0) !important;
  }

  body.brand-page .expertsTab{
    display: flex !important;
    position: absolute !important;

top: 30dvh !important;
    left: -36px !important;

    /* perfect vertical centering + readable orientation */
transform: translateY(-50%);
    transform-origin: center !important;

    width: 36px !important;
    height: 140px !important;

    writing-mode: vertical-rl !important;
    text-transform: uppercase !important;
    letter-spacing: 0.18em !important;

    /* center the label inside the tab */
    align-items: center !important;
    justify-content: center !important;

    border: 0 !important;
    border-radius: 14px 0 0 14px !important;

    background: rgba(255,255,255,0.92) !important;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);

    border: 1px solid rgba(0,0,0,0.12) !important;
    border-right: 0 !important;

    font-weight: 800 !important;
    font-size: 11px !important;
    color: rgba(0,0,0,0.9) !important;
    cursor: pointer !important;
  }
body.brand-page .expertsTab span{
  display:inline-block;
  transform: rotate(180deg);
}

  body.brand-page .brand-people-list{
    max-height: calc(100vh - 140px) !important;
    overflow-y: auto !important;
    padding-right: 6px !important;
  }

  /* Blur page when experts drawer open */
  /* body.brand-page.mmExperts-open main,
  body.brand-page.mmExperts-open .brand-left,
  body.brand-page.mmExperts-open .brand-corner,
  body.brand-page.mmExperts-open .brandNav,
  body.brand-page.mmExperts-open #siteHeader{
    filter: blur(6px);
    opacity: 0.25;
    transition: opacity 140ms ease, filter 180ms ease;
  } */

  /* Mobile/Tablet hamburger menu becomes a right drawer */
  body.brand-page nav.brandMenu{
    position: fixed !important;
    top: 0 !important;
    right: 0 !important;
    height: 100vh !important;
    width: min(320px, 82vw) !important;

    display: flex !important;
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 14px !important;

    padding: 92px var(--pad) 28px !important;

    background: rgba(255,255,255,0.88) !important;
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);

    border-left: 1px solid rgba(0,0,0,0.08);

    transform: translateX(100%);
    transition: transform 260ms cubic-bezier(0.22, 1, 0.36, 1);
    z-index: 10070 !important;
  }

  body.brand-page details.brandMenuWrap[open] nav.brandMenu{
    transform: translateX(0);
  }

  /* Stop the old link pop-out animation on mobile */
  body.brand-page nav.brandMenu a{
    transform: none !important;
    opacity: 0.92 !important;
  }

  /* Optional menu backdrop (created by JS) */
  /* body.brand-page .mmMenuBackdrop{
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.18);
    backdrop-filter: blur(2px);
    -webkit-backdrop-filter: blur(2px);
    z-index: 10069;
  } */

  /* Keep 3-up grid */
  body.brand-page .brand-grid{
    grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
    gap: 8px !important;
  }
}

/* ---------- Phone (<=640): 3-up tighter + experts drawer wider ---------- */
@media (max-width: 640px){
  :root{ --pad: 16px; }

  body.brand-page .brand-grid{
    grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
    gap: 6px !important;
  }

  body.brand-page .brand-people{
    width: 86vw !important;
    max-width: none !important;
    min-width: 0 !important;
    padding-top: 88px !important;
    transform: translateX(calc(100% - .1px)) !important;
  }
}

/* Keep IG + hamburger above the opened menu drawer */
body.brand-page a.igFixed,
body.brand-page summary.brandMenuBtn{
  position: fixed;
  z-index: 10120 !important; /* higher than nav.brandMenu */
}

/* Drawer content should start at top, not be vertically centered */
body.brand-page .brand-people{
  display: flex !important;
  flex-direction: column !important;
  justify-content: flex-start !important;
  align-items: stretch !important;
}

/* Long expert lists: always scroll inside the drawer */
body.brand-page .brand-people-list{
  flex: 1 1 auto !important;
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch;
  max-height: none !important;
}

/* ================================
   PHONE BRAND NAV SPACING FIX
   Paste at very bottom of CSS
   ================================ */

@media (max-width: 640px){

  /* Pull arrows closer to brand name */
  body.brand-page .brandNav{
    gap: 30px !important;
  }

  /* Remove forced width that spreads arrows apart */
  body.brand-page .brandNavList{
    min-width: 0 !important;
  }

  /* Slightly shrink arrows + keep tap target */
  body.brand-page .brandNavArrow{
    font-size: 22px !important;
    padding: 4px 6px !important;
  }

  /* Slightly tighten brand label */
  body.brand-page .brandNavList a{
    font-size: 12px !important;
    letter-spacing: 0.12em !important;
  }

}

/* ====================================
   FIX EXPERT DRAWER FULL HEIGHT BACKGROUND
   ==================================== */

body.brand-page .brand-people{

  /* Ensure drawer truly fills viewport */
  top: -24px !important;
  height: 100dvh !important;

  /* Move spacing from outer container to inner content */
  padding-top: 0 !important;
}

/* Re-apply visual spacing INSIDE drawer instead */
body.brand-page .brand-people-list{
  margin-top: 150px !important;
}


/* FORCE brand rolodex to always use DIFFERENCE */
body.brand-page .brandNav,
body.brand-page .brandNavArrow,
body.brand-page .brandNavList,
body.brand-page .brandNavList a{
  mix-blend-mode: difference !important;
  color: #fff !important; /* makes difference reliable */
  -webkit-text-fill-color: currentColor !important;
}

/* ==========================================
   iPad: center collaboration horizontal list
   ========================================== */

@media (min-width: 641px) and (max-width: 1100px){

  body.brand-page .brand-left-nav{
    justify-content: center !important;
  }

}
/* ==========================================
   LIGHTBOX: make iPad + phone behave like desktop
   and fit the chosen media ratio
   Paste at very bottom of CSS
   ========================================== */

/* Frame should NOT be hard-locked to 9:16 on small devices */
.mmLightbox-frame{
  aspect-ratio: var(--lb-ar, 9 / 16) !important; /* default 9:16, JS can override */
  height: min(74dvh, 820px) !important;
  width: auto !important;
  max-width: min(86vw, 920px) !important;
  max-height: 74dvh !important;
}

/* Keep backdrop subtle (no black takeover) */
.mmLightbox-backdrop{
  background: rgba(255,255,255,0.02) !important;
}

/* iPad/tablet: tighten UI padding + arrow columns so stage stays centered */
@media (max-width: 1100px){
  .mmLightbox-ui{
    padding: 44px 22px !important;
    grid-template-columns: 52px 1fr 52px !important;
  }

  .mmLightbox-nav{
    font-size: 36px !important;
    opacity: 0.55;
  }

  .mmLightbox-frame{
    height: min(78dvh, 860px) !important;
    max-width: calc(100vw - 140px) !important; /* prevents “off center” feel */
    max-height: 78dvh !important;
  }
}

/* Phone: still desktop-style, just tighter */
@media (max-width: 640px){
  .mmLightbox-ui{
    padding: 28px 14px !important;
    grid-template-columns: 44px 1fr 44px !important;
  }

  .mmLightbox-nav{
    display: inline-flex !important;
    font-size: 34px !important;
    padding: 10px !important; /* tap target */
  }

  .mmLightbox-close{
    top: 14px !important;
    right: 14px !important;
  }

  .mmLightbox-frame{
    height: min(76dvh, 720px) !important;
    max-width: calc(100vw - 110px) !important;
    max-height: 76dvh !important;
    border-radius: 12px !important;
    background: #000 !important; /* keep media framed cleanly */
  }
}

/* ==========================================
   LIGHTBOX: force web-style behavior on all sizes
   ========================================== */

@media (max-width: 1100px){
  .mmLightbox-ui{
    grid-template-columns: 52px 1fr 52px !important;
    padding: 44px 22px !important;
  }
  .mmLightbox-nav{ display: inline-flex !important; }
}

@media (max-width: 640px){
  .mmLightbox-ui{
    grid-template-columns: 44px 1fr 44px !important;
    padding: 28px 14px !important;
  }
  .mmLightbox-nav{
    display: inline-flex !important;
    padding: 10px !important;
  }
  .mmLightbox-frame{
    height: min(76dvh, 720px) !important;
    max-width: calc(100vw - 110px) !important;
    border-radius: 12px !important;
  }
}

/* =========================================================
   LIGHTBOX RESPONSIVE FIX (iPad + phone)
   - keeps web-style lightbox
   - centers properly
   - frame scales to viewport
   ========================================================= */

/* Always keep the stage truly centered */
.mmLightbox-ui{
  align-items: center !important;
}
.mmLightbox-stage{
  justify-content: center !important;
  align-items: center !important;
}

/* Tablet + down: reduce padding + arrow columns so center stays center */
@media (max-width: 1100px){
  .mmLightbox-ui{
    padding: 28px 18px !important;
    grid-template-columns: 44px 1fr 44px !important;
  }

  .mmLightbox-frame{
    /* scale by viewport, not desktop */
    height: min(78dvh, 860px) !important;
    max-height: 78dvh !important;
    max-width: calc(100vw - 120px) !important; /* 44+44 columns + padding */
  }

  .mmLightbox-nav{
    font-size: 34px !important;
    padding: 10px !important; /* tap target */
  }
}

/* Phone: tighter still (prevents the “bottom-right” drift) */
@media (max-width: 640px){
  .mmLightbox-ui{
    padding: 18px 12px !important;
    grid-template-columns: 40px 1fr 40px !important;
  }

  .mmLightbox-frame{
    height: min(74dvh, 720px) !important;
    max-height: 74dvh !important;
    max-width: calc(100vw - 96px) !important;
    border-radius: 12px !important;
  }

  .mmLightbox-close{
    top: 12px !important;
    right: 12px !important;
  }
}
/* =========================================================
   LIGHTBOX: FORCE true viewport overlay (fix iPad/phone drift)
   ========================================================= */

.mmLightbox{
  position: fixed !important;
  inset: 0 !important;
  left: 0 !important;
  top: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  transform: none !important;
}

.mmLightbox-ui{
  position: absolute !important;
  inset: 0 !important;
  width: 100% !important;
  height: 100% !important;
  transform: none !important;
  margin: 0 !important;

  display: flex !important;
  align-items: center !important;
  justify-content: center !important;

  padding: 56px 56px !important; /* desktop feel */
  box-sizing: border-box !important;
}

/* Keep arrows as overlays instead of grid columns */
.mmLightbox-nav{
  position: absolute !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  z-index: 3 !important;
}

.mmLightbox-prev{ left: 18px !important; }
.mmLightbox-next{ right: 18px !important; }

.mmLightbox-stage{
  width: 100% !important;
  height: 100% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

.mmLightbox-frame{
  max-width: min(86vw, 980px) !important;
  max-height: 78vh !important;
  height: auto !important;
  width: auto !important;
}

/* tighter padding on tablet/phone */
@media (max-width: 1100px){
  .mmLightbox-ui{ padding: 44px 22px !important; }
  .mmLightbox-prev{ left: 10px !important; }
  .mmLightbox-next{ right: 10px !important; }
  .mmLightbox-frame{ max-width: calc(100vw - 100px) !important; max-height: 80vh !important; }
}

@media (max-width: 640px){
  .mmLightbox-ui{ padding: 30px 12px !important; }
  .mmLightbox-frame{ max-width: calc(100vw - 84px) !important; max-height: 78vh !important; }
}
/* =========================================================
   LIGHTBOX — hard viewport centering fix (all devices)
   Paste at VERY BOTTOM of brand-nav.css
   ========================================================= */

/* Make overlay always sit on top and ignore any page layout */
.mmLightbox{
  position: fixed !important;
  inset: 0 !important;
  z-index: 999999 !important;
}

/* Remove the desktop grid + padding that causes “shift” on iPad/phone */
.mmLightbox-ui{
  position: absolute !important;
  inset: 0 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  padding: 0 !important;
  pointer-events: none !important;
}

/* Center stage in viewport */
.mmLightbox-stage{
  pointer-events: auto !important;
  width: 100% !important;
  height: 100% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Frame stays centered and scales to viewport */
.mmLightbox-frame{
  height: min(74vh, 820px) !important;
  width: auto !important;
  max-width: min(86vw, 980px) !important;
  max-height: 74vh !important;

  border-radius: 12px !important;
  overflow: hidden !important;
  background: #000 !important;

  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Default: cover for 9:16; contain for other ratios (your JS toggles .is-contain) */
.mmLightbox-frame img,
.mmLightbox-frame video{
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
}

.mmLightbox-frame.is-contain img,
.mmLightbox-frame.is-contain video{
  object-fit: contain !important;
}

/* Put arrows on the sides of the viewport (not in a grid column) */
.mmLightbox-nav{
  position: fixed !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  z-index: 1000000 !important;

  pointer-events: auto !important;
  border: 0 !important;
  background: transparent !important;
  font-size: 42px !important;
  line-height: 1 !important;
  cursor: pointer !important;
  opacity: 0.55 !important;
  user-select: none !important;
}

.mmLightbox-prev{ left: 18px !important; }
.mmLightbox-next{ right: 18px !important; }
.mmLightbox-nav:hover{ opacity: 0.95 !important; }

/* Close button stays top-right of viewport */
.mmLightbox-close{
  position: fixed !important;
  top: 18px !important;
  right: 18px !important;
  z-index: 1000001 !important;

  pointer-events: auto !important;
  border: 0 !important;
  background: transparent !important;
  font-size: 30px !important;
  line-height: 1 !important;
  cursor: pointer !important;
  opacity: 0.6 !important;
}

.mmLightbox-close:hover{ opacity: 0.95 !important; }

/* IMPORTANT: kill your old phone-only “black full bleed” overrides */
@media (max-width: 640px){
  .mmLightbox-backdrop{ background: rgba(255,255,255,0.02) !important; }
  .mmLightbox-frame{
    height: min(74vh, 720px) !important;
    max-height: 74vh !important;
    max-width: 90vw !important;
    border-radius: 12px !important;
  }
  .mmLightbox-nav{ font-size: 38px !important; }
}

/* =========================================================
   LIGHTBOX — viewport-sized + smaller on iPad/phone
   Paste at VERY BOTTOM of brand-nav.css
   ========================================================= */

/* Full-screen overlay (always true viewport) */
.mmLightbox{
  position: fixed !important;
  inset: 0 !important;
  z-index: 999999 !important;
}

/* Kill the desktop grid columns + padding that cause overflow */
.mmLightbox-ui{
  position: absolute !important;
  inset: 0 !important;

  display: flex !important;
  align-items: center !important;
  justify-content: center !important;

  padding: 0 !important;
  margin: 0 !important;

  pointer-events: none !important;
}

/* Center the stage */
.mmLightbox-stage{
  pointer-events: auto !important;
  width: 100% !important;
  height: 100% !important;

  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Frame scales to viewport (this is the “too big” fix) */
.mmLightbox-frame{
  width: auto !important;
  height: auto !important;

  max-width: min(86vw, 920px) !important;
  max-height: 78vh !important;

  border-radius: 12px !important;
  overflow: hidden !important;
  background: #000 !important;

  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Media sizing inside frame */
.mmLightbox-frame img,
.mmLightbox-frame video{
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  display: block !important;
}

/* Your JS toggles .is-contain for non-9:16 — respect it */
.mmLightbox-frame.is-contain img,
.mmLightbox-frame.is-contain video{
  object-fit: contain !important;
}

/* Put arrows on viewport sides (always visible) */
.mmLightbox-nav{
  position: fixed !important;
  top: 50% !important;
  transform: translateY(-50%) !important;

  z-index: 1000000 !important;
  pointer-events: auto !important;

  border: 0 !important;
  background: transparent !important;

  font-family: inherit !important;
  font-size: 42px !important;
  line-height: 1 !important;

  cursor: pointer !important;
  opacity: 0.55 !important;
  user-select: none !important;
}

.mmLightbox-prev{ left: 16px !important; }
.mmLightbox-next{ right: 16px !important; }
.mmLightbox-nav:hover{ opacity: 0.95 !important; }

/* Close button fixed in viewport top-right (always visible) */
.mmLightbox-close{
  position: fixed !important;
  top: 16px !important;
  right: 16px !important;

  z-index: 1000001 !important;
  pointer-events: auto !important;

  border: 0 !important;
  background: transparent !important;

  font-size: 30px !important;
  line-height: 1 !important;

  cursor: pointer !important;
  opacity: 0.6 !important;
}
.mmLightbox-close:hover{ opacity: 0.95 !important; }

/* Keep backdrop subtle (no black takeover) */
.mmLightbox-backdrop{
  background: rgba(255,255,255,0.02) !important;
}

/* Tablet: a little tighter */
@media (max-width: 1100px){
  .mmLightbox-frame{
    max-width: calc(100vw - 120px) !important; /* room for arrows */
    max-height: 76vh !important;
  }
  .mmLightbox-prev{ left: 10px !important; }
  .mmLightbox-next{ right: 10px !important; }
}

/* Phone: tighter still */
@media (max-width: 640px){
  .mmLightbox-frame{
    max-width: calc(100vw - 96px) !important;
    max-height: 72vh !important;
  }
  .mmLightbox-nav{ font-size: 38px !important; }
  .mmLightbox-close{ top: 12px !important; right: 12px !important; }
}

